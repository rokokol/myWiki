---
title: Разбираемся в АЛЛОКАТОРАХ
media_link: https://www.youtube.com/watch?v=DuHoT6bmb10
author:
  - Полевой Дмитрий
created: 2025-04-29
tags:
  - y2025
  - cpp
  - учеба
  - конспекты
master: "[[C++ Hub|С++]]"
---

# Аллокаторы в C++

Аллокаторы бывают двух типов:
1. *Низкоуровневые*: `malloc`, `jemalloc`, `tcmalloc`, ...
2. *Аллокаторы в C++*: `std::allocator`

> [!tip] По умолчанию `std::vector<T>` = `std::vector<T, std::allocator<T>>`
> Аллокатор выступает как прослойка для работы с элементами

 [10:48](https://www.youtube.com/watch?t=648&v=DuHoT6bmb10)
## Создание аллокатора
Должны быть *обязательно* реализованы методы:
- `allocate` — возвращает указатель на `T` и принимает *количество элементов* (не смотря на то, что они в `size_t`, под которые нужно выделить память
- `deallocate` — принимает указатель `T*` и количество элементов, память из-под которых необходимо освободить
А так же нужно указать используемый тип: `using value_type = T;`

[14:43](https://www.youtube.com/watch?t=883&v=DuHoT6bmb10)
> [!note] 2 аллокатора считаются равными, если память, выделенную одним можно безопасно освободить другим. Технически, если это один и тот же аллокатор
> 